        function updateCandleCounter() {
            const counter = document.getElementById('candles-counter');
            if (candlesLit > 0) {
                counter.textContent = `${candlesLit} candle${candlesLit !== 1 ? 's' : ''} remaining`;
                counter.style.color = 'rgba(255, 255, 255, 0.95)';
            } else {
                counter.textContent = 'âœ¨ All candles blown out! âœ¨';
                counter.style.color = '#ffd700';
            }
        }

        function showBirthdayWish() {
            const wish = document.createElement('div');
            wish.textContent = "ðŸŽ‚ Happy Birthday! May all your wishes come true! ðŸŽ‚";
            wish.style.position = 'fixed';
            wish.style.top = '50%';
            wish.style.left = '50%';
            wish.style.transform = 'translate(-50%, -50%)';
            wish.style.fontSize = '2em';
            wish.style.fontWeight = '700';
            wish.style.color = '#fff';
            wish.style.textShadow = '0 0 15px rgba(255,255,255,0.9), 0 0 30px #f39c12';
            wish.style.padding = '20px 30px';
            wish.style.borderRadius = '20px';
            wish.style.background = 'rgba(0,0,0,0.5)';
            wish.style.animation = 'wishAppear 1s ease-out forwards';
            wish.style.zIndex = '1000';

            document.body.appendChild(wish);

            setTimeout(() => {
                wish.remove();
            }, 5000);
        }

        function createSparkles() {
            for (let i = 0; i < 15; i++) {
                const sparkle = document.createElement('div');
                sparkle.classList.add('sparkle');
                sparkle.textContent = 'âœ¨';
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.fontSize = `${16 + Math.random() * 12}px`;
                sparkle.style.animationDuration = `${1 + Math.random() * 2}s`;
                document.body.appendChild(sparkle);

                setTimeout(() => sparkle.remove(), 3000);
            }
        }

        function makeConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti-piece');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;
                confetti.style.width = `${6 + Math.random() * 6}px`;
                confetti.style.height = `${6 + Math.random() * 6}px`;
                confetti.style.animationDuration = `${2 + Math.random() * 3}s`;
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
            }
        }

        function playSurprise() {
            closeAllSections();
            document.getElementById('surprise-message').classList.toggle('hidden');
            createSparkles();
            makeConfetti();
            playChord([523.25, 659.25, 783.99], 1); // C major chord ðŸŽ¶
        }
    </script>
</body>
</html>
